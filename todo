--------------------------------------------------------------------------------
This url is falty
{{base_url}}/get/CurrentFormation/1/Door_PassengerDoor_FL.Function.GetCurrentOutputValue


Monitor the BL and BR doors of the car in position 1, position 0 is the engine and doesn't always have passengers
{{base_url}}/get/CurrentFormation/1/Door_PassengerDoor_BR.Function.GetCurrentOutputValue
{{base_url}}/get/CurrentFormation/1/Door_PassengerDoor_BL.Function.GetCurrentOutputValue

might be useful
      "url": "http://localhost:31270/get/CurrentDrivableActor/EMK_AWC_Class390_DriverAssist.Function.GetAreDoorsUnlocked",
      "data": {
        "Result": "Success",
        "Values": {
          "ReturnValue": false
        }

CurrentFormation/0/PIS_Manager.Property.FinalDestination
--------------------------------------------------------------------------------
Here are the endpoints that return train class/type information:

Train Type/Class Endpoints:

Object Name (includes train class):


http://localhost:31270/get/CurrentDrivableActor.ObjectName
Returns: "ObjectName": "RVM_EMK_AWC_Class390_11_DMFK_C_2147471340"

Object Class (train blueprint class):


http://localhost:31270/get/CurrentDrivableActor.ObjectClass
Returns: "ObjectClass": "RVM_EMK_AWC_Class390_11_DMFK_C"

Per-vehicle Object Name:


http://localhost:31270/get/CurrentFormation/0.ObjectName
Service Name (from DriverAid):


http://localhost:31270/get/DriverAid.PlayerInfo
Returns: "currentServiceName": "1A10"

The ObjectClass and ObjectName contain "Class390" which identifies it as the Pendolino. The format is:

RVM_EMK_AWC_Class390_11_DMFK_C = Rail Vehicle Model, EMK (manufacturer), AWC (Avanti West Coast), Class390, variant 11, DMFK (Driving Motor First Kitchen), C class
To get a cleaner "Class 390 Pendolino" name, you'd need to parse the ObjectClass string and map it, since the API doesn't seem to provide a human-friendly display name directly.
--------------------------------------------------------------------------------
DriverInput - Current Notch Index:
http://localhost:31270/get/DriverInput/Reverser.Function.GetCurrentNotchIndex
Returns the current notch position (0, 1, 2, 3 for Off/Reverse/Neutral/Forward)

DriverInput - Current Output Value:
http://localhost:31270/get/DriverInput/Reverser.Function.GetCurrentOutputValue


DriverInput - Normalised Value:
http://localhost:31270/get/DriverInput/Reverser.Function.GetNormalisedOutputValue


DriverInput - Display Info (shows position names):
http://localhost:31270/get/DriverInput/Reverser.Property.DisplayInfo


Contains mapping: Reverse, Neutral, Forward, Off
The VirtualRailDriver.Reverser is the simplest one - returns a single numeric value where:

-1 = Reverse
0 = Neutral
1 = Forward
--------------------------------------------------------------------------------


- translations
- color blindeness options
- make sure all tags have alternative text for text readers and blindness
- increase font for sight issues
- settings folder
    - default language
    - default color blindeness seatings
    - default font size
    - default apikey settings
    - default 5 / 6 settings
    - Miles / Feet or KM / M settings
    - Temperature settings C / F
    - Dark or Light Mode
- hud
- map recorder
- map player
- See if we can display the doors status in the hud

- Audio player for announcments ?
- Maybe record the verbage differently if they use track vs platform??? in the parser???
- we have "destination" in the json, maybe change this to location ?
  not sure what's in the db for this
- time 1 and time 2, we don't have headers for those in the game and it's not as easy
  as arrive and depart because theonly thing that falls in time 2 is the initial start
  of the service, at least from what I can observe so far.

 check if color blindness settings will effect how the OCR parses data from the screen shot

Other Questions 
- Markers?
- Gradiant?
- height ?

Hub Items needed
Operations Hud Details

BP: Brake Pipe pressure. This pressure runs the entire length of the train and is the main control for the train's automatic brakes. The pressure is reduced to apply the brakes and increased (recharged) to release them.
ER: Equalizing Reservoir pressure. This acts as the "target" pressure for the automatic brake system. The engineer sets the desired pressure here, and the system automatically works to match the BP pressure to this level.
MR: Main Reservoir pressure. This is the primary supply of compressed air on the locomotive, charged by the air compressor. This air is used to recharge the brake pipe and supply the independent brake system.
BC: Brake Cylinder pressure. This indicates the actual amount of air pressure in the brake cylinders on the locomotive (and individual cars if indicated), which physically pushes the brake pads against the wheels. Unlike BP, this pressure increases as the brakes are applied and decreases when they are released. 

Locomotive Brake => locomotiveBrakeHandle
Brake Systems => BP, ER, MR, BC
Power Indicator
LZB Distance To Speed Change
Cruise Speed

Acceleerometer
In-Cab signaling / LZB Speed Limit
Maximum Permited SpeedTrain Door Status
Reverser Direction
Saftey Systems

Distance to next Stop
Expected Time at location or expected leave time

--------------------------------------------------------------------------------
The apiName is built in processingController.js at lines 151-153, 181-183, and 201-202.

The formula is:


const mappedDestination = stationNameMapping[destination] || destination;
const apiName = (mappedDestination && platform) ? mappedDestination + ' Platform ' + platform : '';
So apiName = {mapped station name} Platform {platform number}

For example:

destination = "Metro South"
stationNameMapping["Metro South"] = "MetroSouth" (from station mappings)
platform = "1"
Result: apiName = "MetroSouth Platform 1"
The station name mapping lookup uses the stationMappingDb which stores display name â†’ API name translations for each route.




Set the epsilon for path percision
controllers\routeProcessingController.js
const SIMPLIFY_EPSILON = 5; // meters


--------------------------------------------------------------------------------
****** when Iam a little more confident, we will remove the write to json step
****** and save directley in the db. For now I will keep it for testing

Here's what happens when you click "Save Json":

stopRecording() does 3 steps:

Stop Recording - POST /api/recording/stop

Calls recordingController.stop()
Finalizes the raw JSON file in recording_data/
Process Recording - POST /api/route-processing/process-latest

Calls routeProcessingController.processLatest()
Reads the latest raw file from recording_data/
Processes it (simplifies coordinates, calculates marker positions, etc.)
Writes output to processed_routes/ folder
Save to Database - POST /api/map/save-processed

Calls mapDataController.saveProcessedJson()
Reads the processed JSON from processed_routes/
Saves coordinates, markers, and timetable entry lat/lng to the database
So the processed_routes folder is definitely still in use - it's the intermediate step between raw recording data and the database.
------------------------------------------------------
in the record-map
"Remake JSON from DB"
should also be removed with the accociated code and folder
------------------------------------------------------